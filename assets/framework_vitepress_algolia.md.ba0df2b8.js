import{_ as i,a as E,b as y}from"./chunks/Contributors.vue_vue_type_script_setup_true_lang.052e419c.js";import{_ as u,C as d,o as h,c as b,H as s,w as n,Q as p,k as o,a as e}from"./chunks/framework.27021b64.js";import{_ as q}from"./chunks/index.e5e15ed4.js";import"./chunks/CloseOutlined.9c3246b4.js";import"./chunks/isObjectLike.46b91259.js";import"./chunks/Serializer.fad5b415.js";import"./chunks/LeftOutlined.9040821c.js";import"./chunks/EyeOutlined.53cc40ff.js";const U=JSON.parse('{"title":"VitePress 如何开启 algolia 搜索功能","description":"","frontmatter":{"sitemapTime":"2023/07/17"},"headers":[],"relativePath":"framework/vitepress/algolia.md","filePath":"framework/vitepress/algolia.md","lastUpdated":1689581790000}'),m={name:"framework/vitepress/algolia.md"},g=p('<h1 id="vitepress-如何开启-algolia-搜索功能" tabindex="-1">VitePress 如何开启 algolia 搜索功能 <a class="header-anchor" href="#vitepress-如何开启-algolia-搜索功能" aria-label="Permalink to &quot;VitePress 如何开启 algolia 搜索功能&quot;">​</a></h1><h2 id="什么是-algolia" tabindex="-1">什么是 Algolia <a class="header-anchor" href="#什么是-algolia" aria-label="Permalink to &quot;什么是 Algolia&quot;">​</a></h2><p>Algolia 是一种强大的搜索引擎，可以为你的 VitePress 网站提供搜索功能。</p><h2 id="algolia-注册" tabindex="-1">Algolia 注册 <a class="header-anchor" href="#algolia-注册" aria-label="Permalink to &quot;Algolia 注册&quot;">​</a></h2><p>首先，你需要申请一个 Algolia 账号。你可以在 <a href="https://docsearch.algolia.com/apply/" target="_blank" rel="noreferrer">Algolia DocSearch 官网</a> 申请一个免费账号。</p><div class="warning custom-block"><p class="custom-block-title">注意事项</p><ul><li>您必须是该网站的所有者，或至少有更新其内容的权限</li><li>你的网站必须是公开的</li><li>你的网站必须是一个开源项目或技术博客的技术文档，不授权于商业内容</li><li>你的网站必须到生产环境</li></ul></div><p>注册成功后，你会收到一封邮件，里面包含了你的 Algolia API Key 和 Application ID。如下界面：</p>',7),F=o("p",null,"根据邮箱提示操作后，你会看到如下界面：",-1),_=o("p",null,"点击 “API Keys”, 获取你的 Algolia API Key 和 Application ID。如下界面：",-1),C=p(`<h2 id="algolia-配置" tabindex="-1">Algolia 配置 <a class="header-anchor" href="#algolia-配置" aria-label="Permalink to &quot;Algolia 配置&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineConfig } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vite&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  themeConfig: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    search: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// provider: &#39;local&#39;, // 可以开启本地搜索</span></span>
<span class="line"><span style="color:#E1E4E8;">      provider: </span><span style="color:#9ECBFF;">&quot;algolia&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        appId: </span><span style="color:#9ECBFF;">&quot;你的appId&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        apiKey: </span><span style="color:#9ECBFF;">&quot;你的apiKey&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        indexName: </span><span style="color:#9ECBFF;">&quot;你的indexName&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        placeholder: </span><span style="color:#9ECBFF;">&quot;请输入关键词&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        translations: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          button: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            buttonText: </span><span style="color:#9ECBFF;">&quot;请输入关键词&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { defineConfig } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vite&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  themeConfig: {</span></span>
<span class="line"><span style="color:#24292E;">    search: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// provider: &#39;local&#39;, // 可以开启本地搜索</span></span>
<span class="line"><span style="color:#24292E;">      provider: </span><span style="color:#032F62;">&quot;algolia&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      options: {</span></span>
<span class="line"><span style="color:#24292E;">        appId: </span><span style="color:#032F62;">&quot;你的appId&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        apiKey: </span><span style="color:#032F62;">&quot;你的apiKey&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        indexName: </span><span style="color:#032F62;">&quot;你的indexName&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        placeholder: </span><span style="color:#032F62;">&quot;请输入关键词&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        translations: {</span></span>
<span class="line"><span style="color:#24292E;">          button: {</span></span>
<span class="line"><span style="color:#24292E;">            buttonText: </span><span style="color:#032F62;">&quot;请输入关键词&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>配置完成后，你就可以在你的 VitePress 网站上使用 Algolia 搜索功能了。</p><h2 id="可能遇到的问题" tabindex="-1">可能遇到的问题 <a class="header-anchor" href="#可能遇到的问题" aria-label="Permalink to &quot;可能遇到的问题&quot;">​</a></h2><h3 id="_1-搜索结果为空" tabindex="-1">1. 搜索结果为空 <a class="header-anchor" href="#_1-搜索结果为空" aria-label="Permalink to &quot;1. 搜索结果为空&quot;">​</a></h3>`,5),v=o("p",null,[e("先检查 Algolia 后台是否已经爬取了数据，如果没有爬取数据，你可以手动触发爬取数据。 "),o("a",{href:"https://crawler.algolia.com/admin",target:"_blank",rel:"noreferrer"},"Algolia Crawler 控制台"),e("，如下图：")],-1),f=p(`<p>如果爬取数据后，Algolia 后台有数据，但是在 VitePress 却仍然搜索不到任何数据。</p><p>检查是否配置了</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;zh-CN&quot;</span><span style="color:#E1E4E8;">,</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;zh-CN&quot;</span><span style="color:#24292E;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><pre><code>或者
</code></pre><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#B392F0;">locales</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">root</span><span style="color:#E1E4E8;">: { </span><span style="color:#B392F0;">label</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;简体中文&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;zh-CN&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// .vitepress/config.js</span></span>
<span class="line"><span style="color:#6F42C1;">locales</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">root</span><span style="color:#24292E;">: { </span><span style="color:#6F42C1;">label</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;简体中文&quot;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;zh-CN&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>从 VitePress 源码中<a href="https://github.com/vuejs/vitepress/blob/1ef33fe1c44875dc86835a698a708b1aa847e16e/src/client/theme-default/components/VPAlgoliaSearchBox.vue#L26" target="_blank" rel="noreferrer">VPAlgoliaSearchBox</a>得知，如果配置了语言，那么 Algolia 搜索的时候会带上语言参数，如果 Algolia 后台没有对应语言的数据，那么就会搜索不到数据。</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">searchParameters</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">facetFilters</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;lang:en-US&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">},</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">searchParameters</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">facetFilters</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;lang:en-US&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>即使手动配置了上述参数，也会搜索不到数据。原因如下：</p>`,8),A=p('<p>Algolia 后台的数据是以 <code>lang:en-US</code> 的形式存储的，而 VitePress 搜索的时候是以 <code>lang:zh-CN</code> 的形式搜索的，所以 Algolia 后台没有对应的数据，所以搜索不到数据。</p><p><strong>解决办法：</strong></p><p>更改 Algolia 后台爬取数据规则， <code>lang:en-US</code> 改为 <code>lang:zh-CN</code>。在<a href="https://crawler.algolia.com/admin" target="_blank" rel="noreferrer">Algolia Crawler 控制台</a>，点击“Editor”，调整代码，如下图：</p>',3),B=p(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">records</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> helpers.</span><span style="color:#B392F0;">docsearch</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  recordProps: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl1: [</span><span style="color:#9ECBFF;">&quot;header h1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;article h1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;head &gt; title&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    content: [</span><span style="color:#9ECBFF;">&quot;article p, article li&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main p, main li&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;p, li&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl0: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      selectors: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      defaultValue: </span><span style="color:#9ECBFF;">&quot;Documentation&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl2: [</span><span style="color:#9ECBFF;">&quot;article h2&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h2&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h2&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl3: [</span><span style="color:#9ECBFF;">&quot;article h3&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h3&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h3&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl4: [</span><span style="color:#9ECBFF;">&quot;article h4&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h4&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h4&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl5: [</span><span style="color:#9ECBFF;">&quot;article h5&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h5&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h5&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    lvl6: [</span><span style="color:#9ECBFF;">&quot;article h6&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;main h6&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;h6&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  aggregateContent: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  recordVersion: </span><span style="color:#9ECBFF;">&quot;v3&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#6A737D;">// add lang field</span></span>
<span class="line"><span style="color:#E1E4E8;">records.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">record</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  record.lang </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;zh-CN&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> records;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">records</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> helpers.</span><span style="color:#6F42C1;">docsearch</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  recordProps: {</span></span>
<span class="line"><span style="color:#24292E;">    lvl1: [</span><span style="color:#032F62;">&quot;header h1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;article h1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;head &gt; title&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    content: [</span><span style="color:#032F62;">&quot;article p, article li&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main p, main li&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;p, li&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    lvl0: {</span></span>
<span class="line"><span style="color:#24292E;">      selectors: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      defaultValue: </span><span style="color:#032F62;">&quot;Documentation&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    lvl2: [</span><span style="color:#032F62;">&quot;article h2&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h2&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h2&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    lvl3: [</span><span style="color:#032F62;">&quot;article h3&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h3&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h3&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    lvl4: [</span><span style="color:#032F62;">&quot;article h4&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h4&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h4&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    lvl5: [</span><span style="color:#032F62;">&quot;article h5&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h5&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h5&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    lvl6: [</span><span style="color:#032F62;">&quot;article h6&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;main h6&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;h6&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  aggregateContent: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  recordVersion: </span><span style="color:#032F62;">&quot;v3&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#6A737D;">// add lang field</span></span>
<span class="line"><span style="color:#24292E;">records.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">record</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  record.lang </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;zh-CN&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> records;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>将 recordExtractor 内容替换上述代码块即可,lang 便可设置为 <code>zh-CN</code>。</p><h2 id="贡献者" tabindex="-1">贡献者 <a class="header-anchor" href="#贡献者" aria-label="Permalink to &quot;贡献者&quot;">​</a></h2>`,3);function k(D,P,T,S,V,x){const l=q,a=d("ClientOnly"),t=i,r=E,c=y;return h(),b("div",null,[g,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-1.png",alt:"Algolia DocSearch 注册成功界面"})]),_:1}),F,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-2.png",alt:"Algolia DocSearch 首页界面"})]),_:1}),_,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-3.png",alt:"Algolia DocSearch 密钥界面"})]),_:1}),C,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-4.png",alt:"Algolia DocSearch 控制台"})]),_:1}),v,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-5.png",alt:"Algolia DocSearch 抓取数据"})]),_:1}),f,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-6.png",alt:"Algolia DocSearch 抓取规则界面"})]),_:1}),A,s(a,null,{default:n(()=>[s(l,{src:"/images/vitepress/algolia-7.png",alt:"Algolia DocSearch 抓取规则界面"})]),_:1}),B,s(a,null,{default:n(()=>[s(t)]),_:1}),s(a,null,{default:n(()=>[s(r)]),_:1}),s(a,null,{default:n(()=>[s(c)]),_:1})])}const O=u(m,[["render",k]]);export{U as __pageData,O as default};
